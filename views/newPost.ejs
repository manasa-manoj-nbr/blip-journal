<%-include('partials/header') %>

        <div class="min-h-screen bg-gray-100 mt-20">
            <div class="min-h-screen flex">
                <div class="w-full lg:w-3/4 flex items-center justify-center p-10">
                    <div class="w-full">
                        <div class="bg-white rounded-2xl shadow-xl p-8">
                            <div class="text-center mb-8">
                                <h2 class="text-2xl font-bold text-gray-800">
                                    <span>Create Your Blog Post!</span>
                                </h2>
                                <p class="text-gray-600 mt-2">
                                    <span>"Express yourself with words!"</span>
                                </p>
                            </div>

                            <!-- Form -->
                            <form @submit.prevent="handleSubmit" action="/posts/add" method="POST" enctype="multipart/form-data" >
                                <!-- onsubmit="return validateForm() -->
                                <div class="mb-5">
                                    <label for="title" class="block mb-2 text-sm font-medium text-gray-900">Title</label>
                                    <input type="text" name="title" id="title" placeholder="Whatâ€™s your post about?" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                                </div>

                                <div class="w-full mx-auto">
                                    <label for="content" class="block mb-2 text-sm font-medium text-gray-900"> Content</label>
                                    <textarea name="content" id="content" rows="10" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Start writing your thoughts, insights, or stories here..."></textarea>
                                </div>

                                <div class=" my-4 cursor-pointer flex w-full border overflow-hidden border-gray-200 shadow-2xs rounded-lg text-sm focus:outline-hidden focus:z-10 focus:border-blue-500">
                                    <label class=" py-3 px-4 bg-gray-100 text-nowrap" for="images">Select Image</label>
                                    <input class="group grow flex overflow-hidden h-full py-3 px-4" id="images" name="images" multiple type="file" onchange="previewImages()">
                                </div>
                                <%if(error){%>
                                    <div class="text-red-500 px-4 py-3 m-2 relative font-semibold" role="alert">
                                        <%=error  %>
                                    </div>
                                    <%}  %> 
                                <%if(success){%>
                                    <div class="font-semibold text-green-500 px-4 py-3  relative m-2" role="alert">
                                        <%=success  %>
                                    </div>
                                    <%}  %> 
                                <div class="my-3 flex-row flex flex-wrap gap-2 mt-3" id="image-preview" class=></div>
                                <!-- Submit Button -->
                                <button type="submit"
                                    class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 focus:ring-4 focus:ring-blue-600 focus:ring-opacity-50 transition-colors cursor-pointer">
                                    <span>Create Post</span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="lg:block lg:w-1/4 h-screen bg-cover bg-center"
                    style="background-image: url('/images/signin.jpg');">
                    <div class="h-full flex items-center justify-center">
                        <div class="text-center text-white px-12">
                            <h2 class="text-4xl font-bold mb-6">Blip Journal</h2>
                            <p class="text-xl">Fleeting thoughts, lasting words.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            function previewImages(){
                const preview = document.getElementById('image-preview');
                preview.innerHTML = '';
                const files = document.getElementById('images').files;
                for(let i=0; i<files.length; i++){
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(files[i]);
                    img.classList.add("object-cover", "rounded-lg", "shadow-md");
                    img.style.width = "150px";
                    preview.appendChild(img)
                }
            }
        </script>
<%-include('partials/footer') %>